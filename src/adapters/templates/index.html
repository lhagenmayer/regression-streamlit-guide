{% extends "base.html" %}

{% block title %}Regression Analysis - Interactive Learning Platform{% endblock %}

{% block content %}
<div class="min-vh-100 d-flex align-items-center justify-content-center p-4">
    <div class="container">
        <!-- Hero Section -->
        <div class="text-center mb-5 fade-in">
            <div class="mb-4">
                <span style="font-size: 4rem;">üìä</span>
            </div>
            <h1 class="display-4 fw-bold mb-3">
                Regression Analysis
            </h1>
            <p class="lead text-secondary mb-4" style="max-width: 600px; margin: 0 auto;">
                Interaktive Lernplattform f√ºr statistische Modelle. 
                Verstehe Regression durch Visualisierung und Exploration.
            </p>
            <div class="d-flex justify-content-center gap-2 flex-wrap">
                <span class="badge bg-primary bg-opacity-10 text-primary px-3 py-2">
                    <i class="bi bi-lightning-charge me-1"></i> Interaktiv
                </span>
                <span class="badge bg-success bg-opacity-10 text-success px-3 py-2">
                    <i class="bi bi-graph-up me-1"></i> 3D Visualisierungen
                </span>
                <span class="badge bg-info bg-opacity-10 text-info px-3 py-2">
                    <i class="bi bi-book me-1"></i> Educational
                </span>
            </div>
        </div>
        
        <!-- Cards -->
        <div class="row g-4 justify-content-center mb-5">
            <!-- Simple Regression Card -->
            <div class="col-lg-5 col-md-6 fade-in" style="animation-delay: 0.1s;">
                <div class="card h-100 border-0 shadow-lg">
                    <div class="card-body p-4">
                        <div class="d-flex align-items-center mb-3">
                            <div class="rounded-circle bg-primary bg-opacity-10 p-3 me-3">
                                <i class="bi bi-graph-up-arrow text-primary" style="font-size: 1.5rem;"></i>
                            </div>
                            <div>
                                <h3 class="h4 mb-0">Einfache Regression</h3>
                                <small class="text-secondary">Y = Œ≤‚ÇÄ + Œ≤‚ÇÅX + Œµ</small>
                            </div>
                        </div>
                        
                        <p class="text-secondary mb-4">
                            Analysiere den Zusammenhang zwischen einer unabh√§ngigen 
                            und einer abh√§ngigen Variable.
                        </p>
                        
                        <div class="mb-4">
                            <div class="d-flex align-items-center mb-2">
                                <i class="bi bi-check-circle-fill text-success me-2"></i>
                                <span>OLS-Sch√§tzung & Residuenanalyse</span>
                            </div>
                            <div class="d-flex align-items-center mb-2">
                                <i class="bi bi-check-circle-fill text-success me-2"></i>
                                <span>R¬≤, t-Tests, F-Tests</span>
                            </div>
                            <div class="d-flex align-items-center mb-2">
                                <i class="bi bi-check-circle-fill text-success me-2"></i>
                                <span>Gauss-Markov Annahmen</span>
                            </div>
                            <div class="d-flex align-items-center mb-2">
                                <i class="bi bi-check-circle-fill text-success me-2"></i>
                                <span>3D Visualisierungen</span>
                            </div>
                            <div class="d-flex align-items-center">
                                <i class="bi bi-check-circle-fill text-success me-2"></i>
                                <span>Heteroskedastizit√§t & robuste SE</span>
                            </div>
                        </div>
                        
                        <a href="/simple" class="btn btn-primary w-100">
                            <i class="bi bi-arrow-right me-2"></i>
                            Zur Analyse
                        </a>
                    </div>
                    <div class="card-footer bg-transparent border-0 p-4 pt-0">
                        <small class="text-secondary">
                            <i class="bi bi-book me-1"></i> 11 Kapitel
                        </small>
                    </div>
                </div>
            </div>
            
            <!-- Multiple Regression Card -->
            <div class="col-lg-5 col-md-6 fade-in" style="animation-delay: 0.2s;">
                <div class="card h-100 border-0 shadow-lg">
                    <div class="card-body p-4">
                        <div class="d-flex align-items-center mb-3">
                            <div class="rounded-circle bg-info bg-opacity-10 p-3 me-3">
                                <i class="bi bi-diagram-3 text-info" style="font-size: 1.5rem;"></i>
                            </div>
                            <div>
                                <h3 class="h4 mb-0">Multiple Regression</h3>
                                <small class="text-secondary">Y = Œ≤‚ÇÄ + Œ≤‚ÇÅX‚ÇÅ + Œ≤‚ÇÇX‚ÇÇ + Œµ</small>
                            </div>
                        </div>
                        
                        <p class="text-secondary mb-4">
                            Erweitere die Analyse auf mehrere Pr√§diktoren und 
                            verstehe komplexere Zusammenh√§nge.
                        </p>
                        
                        <div class="mb-4">
                            <div class="d-flex align-items-center mb-2">
                                <i class="bi bi-check-circle-fill text-success me-2"></i>
                                <span>OLS in Matrixnotation</span>
                            </div>
                            <div class="d-flex align-items-center mb-2">
                                <i class="bi bi-check-circle-fill text-success me-2"></i>
                                <span>Partielle Effekte</span>
                            </div>
                            <div class="d-flex align-items-center mb-2">
                                <i class="bi bi-check-circle-fill text-success me-2"></i>
                                <span>Multikollinearit√§t & VIF</span>
                            </div>
                            <div class="d-flex align-items-center mb-2">
                                <i class="bi bi-check-circle-fill text-success me-2"></i>
                                <span>Dummy-Variablen</span>
                            </div>
                            <div class="d-flex align-items-center">
                                <i class="bi bi-check-circle-fill text-success me-2"></i>
                                <span>3D Regressionsebene</span>
                            </div>
                        </div>
                        
                        <a href="/multiple" class="btn btn-primary w-100">
                            <i class="bi bi-arrow-right me-2"></i>
                            Zur Analyse
                        </a>
                    </div>
                    <div class="card-footer bg-transparent border-0 p-4 pt-0">
                        <small class="text-secondary">
                            <i class="bi bi-book me-1"></i> 9 Kapitel
                        </small>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Architecture Info -->
        <div class="row justify-content-center fade-in" style="animation-delay: 0.3s;">
            <div class="col-lg-10">
                <div class="card border-0 bg-opacity-50" style="background: var(--bg-secondary);">
                    <div class="card-body p-4">
                        <div class="row align-items-center">
                            <div class="col-md-8">
                                <h5 class="d-flex align-items-center mb-3">
                                    <i class="bi bi-cpu text-primary me-2"></i>
                                    100% Plattform-Agnostische Architektur
                                </h5>
                                <p class="text-secondary mb-0">
                                    Diese App nutzt dieselbe <strong>REST API</strong> wie externe Frontends 
                                    (Next.js, Vite, Vue, etc.). Der Content wird als <strong>JSON</strong> 
                                    definiert und kann von jedem Framework gerendert werden.
                                </p>
                            </div>
                            <div class="col-md-4 text-md-end mt-3 mt-md-0">
                                <div class="d-flex flex-column gap-1 align-items-md-end">
                                    <span class="badge bg-primary">
                                        <i class="bi bi-check-circle me-1"></i> Flask
                                    </span>
                                    <span class="badge bg-success">
                                        <i class="bi bi-check-circle me-1"></i> Streamlit
                                    </span>
                                    <span class="badge bg-info">
                                        <i class="bi bi-plug me-1"></i> Next.js / Vite ready
                                    </span>
                                    {% if api_status and api_status.configured %}
                                    <span class="badge bg-success">
                                        <i class="bi bi-robot me-1"></i> AI verbunden
                                    </span>
                                    {% else %}
                                    <span class="badge bg-warning text-dark">
                                        <i class="bi bi-exclamation-triangle me-1"></i> AI Fallback
                                    </span>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- API Endpoints Info -->
        <div class="row justify-content-center mt-4 fade-in" style="animation-delay: 0.35s;">
            <div class="col-lg-10">
                <div class="card border-0 bg-opacity-25" style="background: var(--bg-secondary);">
                    <div class="card-body p-3">
                        <div class="d-flex flex-wrap justify-content-center gap-3 small">
                            <a href="/api/datasets" class="text-decoration-none text-secondary">
                                <i class="bi bi-database me-1"></i> /api/datasets
                            </a>
                            <a href="/api/content/schema" class="text-decoration-none text-secondary">
                                <i class="bi bi-file-code me-1"></i> /api/content/schema
                            </a>
                            <a href="/api/ai/status" class="text-decoration-none text-secondary">
                                <i class="bi bi-robot me-1"></i> /api/ai/status
                            </a>
                            <a href="/api/openapi.json" class="text-decoration-none text-secondary">
                                <i class="bi bi-braces me-1"></i> /api/openapi.json
                            </a>
                            <a href="/api/health" class="text-decoration-none text-secondary">
                                <i class="bi bi-heart-pulse me-1"></i> /api/health
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Footer -->
        <div class="text-center mt-5 pt-4 fade-in" style="animation-delay: 0.4s;">
            <p class="text-secondary small mb-2">
                <i class="bi bi-github me-1"></i>
                Built with Flask, HTMX, Alpine.js & Plotly
            </p>
            <p class="text-secondary small">
                Press <kbd>D</kbd> to toggle dark mode
            </p>
        </div>
    </div>
</div>

<script>
    // Keyboard shortcut for dark mode
    document.addEventListener('keydown', (e) => {
        if (e.key.toLowerCase() === 'd' && !e.target.matches('input, textarea')) {
            const html = document.documentElement;
            const current = html.getAttribute('data-bs-theme');
            html.setAttribute('data-bs-theme', current === 'light' ? 'dark' : 'light');
            localStorage.setItem('theme', current === 'light' ? 'dark' : 'light');
        }
    });
</script>
{% endblock %}
